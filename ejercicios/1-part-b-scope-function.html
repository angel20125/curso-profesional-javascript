<html>
	<head>
		<title>Scope</title>
		<link rel="stylesheet" href="style.css" />
	</head>

	<body>
		<a href="../ejercicios/">Go back</a>
		<p><em>Abre la consola</em></p>
		<script>
			///////////////////////////////////////////////
			// 				==Scope Function==
			///////////////////////////////////////////////
			// clase 5

			// En este ejemplo  el valor de i será 5 solamente en vez de 1,2,3,4,5
			// esto se debe a que el loop termina antes de que setTimeout llama
			// a la función esto se debe que i está en un mismo contexto y solo
			// se mostrará su resultado

			//    Existen dos posibles soluciones al problema:
			// 1. Se cambia la declaración de la variable "var i" por "let i"
			// 2. Utilizar el function Scope, es declaramos una nueva función
			//    que reciba por parámetro un valor "n"  que será i  y lo imprima
			//    en este caso, i está cambiando de scope y será recordado su valor
			//    en cada llamada

			function printNumbers1() {
				for (var i = 0; i < 5; i++) {
					setTimeout(function () {
						console.log(i);
					}, 100);
				}
			}

			function printNumbers2() {
				for (var i = 0; i < 10; i++) {
					function eventuallyPrintNumber(n) {
						setTimeout(function () {
							console.log(n);
						}, 100);
					}

					eventuallyPrintNumber(i);
				}
			}

			printNumbers1();
			printNumbers2();
		</script>
	</body>
</html>
